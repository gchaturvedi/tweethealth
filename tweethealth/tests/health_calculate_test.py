"""
This file contains tests that ensure that the health rating is
calculated properly on Twitter (mock) data.  It also ensures that
the function that gets Twitter data is behaving properly.
"""
import json
import mock

from django.test import TestCase
from django.test.client import Client
from django.test.client import RequestFactory

from tweethealth import views

class HealthCalculateTest(TestCase):
    test_timeline_zero = []
    test_timeline_fifty_five = [{u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 2, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'I love drinking beer!', u'created_at': u'Sun Aug 19 18:32:15 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237255675326103554', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237255675326103554, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 2, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'I like pizza!', u'created_at': u'Sun Aug 19 18:32:11 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237255656132968448', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237255656132968448, u'in_reply_to_user_id': None}]
    test_timeline_hundred = [{u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 5, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'I want to train for a marathon.', u'created_at': u'Sun Aug 19 18:36:53 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237256839484551169', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237256839484551169, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 5, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Salad tastes delicious!', u'created_at': u'Sun Aug 19 18:36:45 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237256805435191296', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237256805435191296, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 5, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u"I'm so passionate about fitness.", u'created_at': u'Sun Aug 19 18:36:36 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237256771398410240', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237256771398410240, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 5, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'I like to go walking.', u'created_at': u'Sun Aug 19 18:36:30 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237256742499651584', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237256742499651584, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 5, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'I go to the gym a lot!', u'created_at': u'Sun Aug 19 18:36:21 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237256708286717952', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237256708286717952, u'in_reply_to_user_id': None}]
    test_timeline_negative = [{u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Do you like beer ?', u'created_at': u'Sun Aug 19 18:45:11 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258930009567232', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258930009567232, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Alcohol', u'created_at': u'Sun Aug 19 18:43:44 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258566283702272', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258566283702272, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Beer!!!', u'created_at': u'Sun Aug 19 18:43:39 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258545211510784', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258545211510784, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Restaurants are amazing!', u'created_at': u'Sun Aug 19 18:43:37 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258533958205440', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258533958205440, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Beer tastes good!', u'created_at': u'Sun Aug 19 18:43:11 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258427011854336', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258427011854336, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u"Who's up for some hard alcohol tonight?", u'created_at': u'Sun Aug 19 18:43:04 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258397827874816', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258397827874816, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'Pizza and beer!', u'created_at': u'Sun Aug 19 18:42:57 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258367691792384', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258367691792384, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'i love going out to eat at restaurants.', u'created_at': u'Sun Aug 19 18:42:44 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258314067619840', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258314067619840, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'stone ipa beer is the best.', u'created_at': u'Sun Aug 19 18:42:36 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258279196192768', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258279196192768, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'i love drinking beer.', u'created_at': u'Sun Aug 19 18:42:30 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258253761921025', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258253761921025, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'dessert tastes delicious!', u'created_at': u'Sun Aug 19 18:42:25 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258232190607360', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258232190607360, u'in_reply_to_user_id': None}, {u'user': {u'follow_request_sent': False, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 29757988, u'verified': False, u'profile_image_url_https': u'https://si0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 15, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'29757988', u'profile_background_color': u'C0DEED', u'listed_count': 1, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'utc_offset': -18000, u'statuses_count': 12, u'description': u'Software Engineer at a startup.  @WPI Alumni in Electrical & Computer Engineering.  Tech Enthusiast.  Shopaholic.', u'friends_count': 25, u'location': u'San Diego, California', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/profile_images/1240470090/03458ab_normal.jpg', u'following': False, u'show_all_inline_media': False, u'geo_enabled': False, u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Gaurav Chaturvedi', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'GeekReporter', u'notifications': False, u'url': None, u'created_at': u'Wed Apr 08 16:45:43 +0000 2009', u'contributors_enabled': False, u'time_zone': u'Quito', u'protected': True, u'default_profile': False, u'is_translator': False}, u'favorited': False, u'contributors': None, u'truncated': False, u'text': u'pizza is awesome.', u'created_at': u'Sun Aug 19 18:42:20 +0000 2012', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'237258214276755457', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 237258214276755457, u'in_reply_to_user_id': None}]
    
    def setUp(self):
        self.factory = RequestFactory()
        self.client = Client()
    
    def test_determine_health_rating(self):
        """
        This function tests various twitter tweet timelines to make sure the health score
        is being calculated correctly.
        """
        self.assertEqual(views._determine_health_rating(self.test_timeline_zero),0)
        self.assertEqual(views._determine_health_rating(self.test_timeline_fifty_five),55)
        self.assertEqual(views._determine_health_rating(self.test_timeline_hundred),100)
        self.assertEqual(views._determine_health_rating(self.test_timeline_negative),10)
    